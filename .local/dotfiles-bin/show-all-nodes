#!/bin/bash


# Gets nodes
if [ "$1" == '-a' ]; then
	# Only current desktop
	NODES=$(bspc query -N)

else
	# All desktops
	NODES=$(bspc query -N -d)
fi

# Shows nodes of bspwm
for loop in $NODES; do
	IS_HIDDEN=$(bspc query -T -n $loop | sed 's/,/\n/g' | awk '/hidden/' | sed -n '1p' | cut -d':' -f2)

	if [ "$IS_HIDDEN" == 'true' ]; then
		bspc node $loop -g hidden
	fi
done


# vim: nobackup
